{"version":3,"file":"static/js/838.43d12ab5.chunk.js","mappings":"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","sources":["components/ui/GoBackButton/GoBackButton.styled.jsx","components/ui/GoBackButton/GoBackButton.jsx","components/ui/Loader/Loader.jsx","constants/path.js","hooks/useFetch.js","components/MovieDetailsInfo/MovieDetailsInfo.styled.jsx","components/MovieDetailsInfo/MovieDetailsInfo.jsx","utils/getGenres.js","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/movieApi.js","utils/checkPoster.js"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nexport const Button = styled(Link)`\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 40px;\n  height: 40px;\n\n  background-color: #f5f4fa;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15);\n\n  font-family: inherit;\n  font-size: 16px;\n  font-weight: 500;\n\n  text-align: center;\n  border-radius: 50%;\n  border: none;\n\n  line-height: 1.87;\n  letter-spacing: 0.06em;\n  color: black;\n  transition: background-color 300ms cubic-bezier(0.4, 0, 0.2, 1),\n    color 300ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  margin-bottom: 10px;\n\n  cursor: pointer;\n\n  :hover {\n    background-color: rgba(77, 77, 77, 0.1);\n    color: red;\n  }\n\n  :last-child {\n    margin-right: 0;\n  }\n`;\n","import { useLocation } from 'react-router-dom';\nimport { Button } from './GoBackButton.styled';\nimport { IoReturnDownBack } from 'react-icons/io5';\nimport { useEffect, useState } from 'react';\n\nexport const GoBackButton = () => {\n  const location = useLocation();\n  const [from, setFrom] = useState();\n\n  useEffect(() => {\n    if (location?.state?.from) {\n      setFrom(location?.state?.from);\n    }\n  }, [location?.state?.from]);\n\n  // console.log('location', location);\n  // console.log('location?.state?.from', location?.state?.from);\n\n  return (\n    <Button to={from ?? '/'}>\n      <IoReturnDownBack size={30} />\n    </Button>\n  );\n};\n","import ClipLoader from 'react-spinners/ClipLoader';\n\nexport const Loader = () => (\n  <ClipLoader\n    size={70}\n    css={`\n      display: block;\n      margin: 0 auto;\n      border-color: #0099ff;\n    `}\n  />\n);\n","export const NO_IMAGE =\n  'https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg';\nexport const IMAGE_PATH_ORIGINAL = `https://image.tmdb.org/t/p/original`;\nexport const IMAGE_PATH_POSTER = `https://image.tmdb.org/t/p/w500`;\nexport const IMAGE_PATH_PROFILE = `https://image.tmdb.org/t/p/w185`;\n","import { useEffect, useState } from 'react';\n\nexport const useFetch = (requestFn, deps) => {\n  const [state, setState] = useState();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const asyncRequest = async () => {\n      setLoading(true);\n      try {\n        const data = await requestFn();\n        // console.log('useEffect', data);\n        setState(data);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    asyncRequest();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n  // console.log(state, 'after useEffect');\n  return [state, loading, error];\n};\n","import { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const Link = styled(NavLink)`\n  color: black;\n  font-size: 20px;\n  margin-right: 10px;\n\n  :last-child {\n    margin-right: 0;\n  }\n\n  &.active {\n    color: red;\n    font-weight: 700;\n  }\n`;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  /* flex-direction: row;\n  align-items: flex-start; */\n`;\n\nexport const Poster = styled.img`\n  width: 100%;\n`;\n\nexport const PosterThumb = styled.div`\n  overflow-x: hidden;\n  border-radius: 5px;\n  min-width: 240px;\n  min-height: 357px;\n  margin-right: 20px;\n`;\n\nexport const Details = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const Title = styled.p`\n  font-weight: 500;\n  font-size: 30px;\n  line-height: 1.0666666667;\n  color: #000;\n  letter-spacing: 0;\n  margin-bottom: 10px;\n`;\n\nexport const Table = styled.table`\n  width: 100%;\n  border: none;\n  text-align: left;\n  border-collapse: separate;\n  margin-bottom: 10px;\n`;\nexport const Head = styled.th`\n  font-weight: 500;\n  font-size: 15px;\n  line-height: 1.3333333333;\n  letter-spacing: 0;\n  padding-bottom: 8px;\n`;\n\nexport const Data = styled.td`\n  /* font-weight: 500; */\n  font-size: 15px;\n  line-height: 1.3333333333;\n  letter-spacing: 0;\n  padding-bottom: 8px;\n\n  color: #000;\n  /* padding-left: 50px; */\n`;\n\nexport const Rating = styled.span`\n  padding: 1px 10px;\n  color: #000;\n  background-color: #f7f7f7;\n  border-radius: 5px;\n\n  font-weight: 500;\n  font-size: 15px;\n  line-height: 1.1666666667;\n  letter-spacing: 0;\n`;\nexport const RatingAccent = styled.span`\n  padding: 1px 10px;\n  color: #000;\n  background-color: #f7f7f7;\n  border-radius: 5px;\n\n  font-weight: 500;\n  font-size: 15px;\n  line-height: 1.1666666667;\n  letter-spacing: 0;\n\n  color: #fff;\n  background-color: #ff6b08;\n`;\n\nexport const AboutSubtitle = styled.p`\n  font-weight: 500;\n  font-size: 15px;\n  color: #000;\n  letter-spacing: 0;\n  text-transform: uppercase;\n  line-height: 1.3333333333;\n  margin-bottom: 10px;\n`;\n\nexport const Overview = styled.p`\n  line-height: 1.6666666667;\n  font-size: 15px;\n  color: #000;\n  letter-spacing: 0;\n`;\n\nexport const AdditionalSubtitle = styled.p`\n  font-weight: 500;\n  font-size: 17px;\n  color: #000;\n  letter-spacing: 0;\n  text-transform: uppercase;\n  line-height: 1.3333333333;\n  margin-top: 10px;\n  margin-bottom: 10px;\n`;\n// .details-popup {\n//   display: flex;\n//   flex-direction: column;\n\n//   @include breakpoint(tablet) {\n//     flex-direction: row;\n//     align-items: flex-start;\n//   }\n\n//   &__thumb {\n//     overflow-x: hidden;\n//     border-radius: 5px;\n//     min-width: 240px;\n//     min-height: 357px;\n\n//     @include breakpoint(tablet) {\n//       min-width: 264px;\n//       min-height: 370px;\n//     }\n\n//     @include breakpoint(desktop) {\n//       min-width: 375px;\n//       min-height: 470px;\n//       height: auto;\n//     }\n\n//     & img {\n//       // border-radius: 5px;\n//     }\n//   }\n\n//   &__info {\n//     margin-left: 0;\n//     margin-top: 20px;\n\n//     @include breakpoint(tablet) {\n//       margin-top: 0;\n//       margin-left: 20px;\n//       width: 350px;\n//     }\n\n//     @include breakpoint(desktop) {\n//       margin-left: 16px;\n//       width: 400px;\n//     }\n//   }\n\n//   &__block {\n//     margin-top: 20px;\n//   }\n\n//   &__menu {\n//     display: flex;\n//     align-items: center;\n//     // flex-wrap: wrap;\n//     margin-left: -15px;\n//     margin-top: 0px;\n//   }\n\n//   &__menu_item {\n//     margin-top: 15px;\n//     margin-left: 15px;\n//   }\n\n//   &__title {\n//     @include font(500, 20px, 22px);\n//     text-transform: uppercase;\n\n//     @include breakpoint(desktop) {\n//       @include font(500, 30px, 32px);\n//     }\n//   }\n\n//   &__subtitle {\n//     text-transform: uppercase;\n//     @include font(500, 12px, 16px);\n//   }\n\n//   &__description {\n//     @include font(500, 12px, 20px);\n//   }\n// }\n\n// .ranks-table {\n//   width: 100%;\n//   border: none;\n//   text-align: left;\n//   border-collapse: separate;\n\n//   &__head {\n//     @include font(500, 12px, 16px, #8c8c8c);\n//     padding-bottom: 8px;\n//   }\n\n//   &__cell {\n//     @include font(500, 12px, 16px);\n//     padding-left: 50px;\n//     padding-bottom: 8px;\n//   }\n// }\n\n// .details-popup__thumb {\n//   position: relative;\n// }\n","import { Outlet } from 'react-router-dom';\nimport { checkPoster, getGenres } from '../../utils';\nimport {\n  Wrapper,\n  Link,\n  Poster,\n  PosterThumb,\n  Details,\n  Title,\n  Table,\n  Head,\n  Data,\n  Rating,\n  RatingAccent,\n  AboutSubtitle,\n  AdditionalSubtitle,\n  Overview,\n} from './MovieDetailsInfo.styled';\n\nexport const MovieDetailsInfo = ({ movie }) => {\n  return (\n    <>\n      <Wrapper>\n        <PosterThumb>\n          <Poster src={checkPoster(movie.poster_path)} alt={movie.title} />\n        </PosterThumb>\n\n        <Details>\n          <Title>{movie.title}</Title>\n\n          <Table>\n            <tbody>\n              <tr>\n                <Head>Vote / Votes:</Head>\n                <Data>\n                  <Rating>{movie.vote_average}</Rating> /{' '}\n                  <RatingAccent>{movie.vote_count}</RatingAccent>\n                </Data>\n              </tr>\n              <tr>\n                <Head>Popularity:</Head>\n                <Data>{movie.popularity}</Data>\n              </tr>\n              <tr>\n                <Head>Original title</Head>\n                <Data>{movie.original_title}</Data>\n              </tr>\n              <tr>\n                <Head>Release:</Head>\n                <Data>{movie.release_date}</Data>\n              </tr>\n              <tr>\n                <Head>Genre:</Head>\n                <Data>\n                  {movie.genres ? getGenres(movie.genres) : 'No genres'}\n                </Data>\n              </tr>\n            </tbody>\n          </Table>\n\n          <AboutSubtitle>About</AboutSubtitle>\n          <Overview>{movie.overview}</Overview>\n        </Details>\n      </Wrapper>\n\n      <AdditionalSubtitle>Additional information</AdditionalSubtitle>\n      <Link to={`cast`}>Cast</Link>\n      <Link to={`reviews`}>Review</Link>\n      <Outlet />\n    </>\n  );\n};\n","export const getGenres = genres => genres.map(genre => genre.name).join(', ');\n","import { useParams } from 'react-router-dom';\nimport { GoBackButton } from '../../components/ui/GoBackButton';\nimport { Loader } from '../../components/ui/Loader';\nimport { MovieDetailsInfo } from '../../components/MovieDetailsInfo';\nimport { useFetch } from '../../hooks';\nimport { fetchMovieById } from '../../services/movieApi';\n\nexport const MovieDetailsPage = () => {\n  const { movieId } = useParams();\n\n  const [movie, loading, error] = useFetch(\n    () => fetchMovieById(movieId),\n    [movieId]\n  );\n\n  if (error) return <h1>{error}</h1>;\n  if (loading) return <Loader />;\n\n  return (\n    <>\n      <GoBackButton />\n      {movie && <MovieDetailsInfo movie={movie} />}\n    </>\n  );\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = { api_key: '5e25dc89cc9570e2f881766abec20685' };\n\nexport const fetchTrendingMovies = async () => {\n  const response = await axios.get('/trending/movie/day');\n  return response.data;\n};\n\nexport const fetchMovieById = async id => {\n  const response = await axios.get(`/movie/${id}`);\n  return response.data;\n};\n\nexport const fetchCast = async id => {\n  const response = await axios.get(`/movie/${id}/credits`);\n  return response.data;\n};\n\nexport const fetchMovieReviews = async id => {\n  const response = await axios.get(`/movie/${id}/reviews`);\n  return response.data;\n};\n\nexport const fetchSearchMovie = async query => {\n  const response = await axios.get(`/search/movie`, { params: { query } });\n  return response.data;\n};\n","import { IMAGE_PATH_POSTER, NO_IMAGE } from '../constants';\n\nexport const checkPoster = poster_path => {\n  return poster_path\n    ? (poster_path = IMAGE_PATH_POSTER + poster_path)\n    : (poster_path = NO_IMAGE);\n};\n"],"names":["Button","styled","Link","GoBackButton","location","useLocation","useState","from","setFrom","useEffect","state","to","size","Loader","css","NO_IMAGE","IMAGE_PATH_POSTER","IMAGE_PATH_PROFILE","useFetch","requestFn","deps","setState","loading","setLoading","error","setError","asyncRequest","data","message","NavLink","Wrapper","Poster","PosterThumb","Details","Title","Table","Head","Data","Rating","RatingAccent","AboutSubtitle","Overview","AdditionalSubtitle","MovieDetailsInfo","genres","movie","src","checkPoster","poster_path","alt","title","vote_average","vote_count","popularity","original_title","release_date","map","genre","name","join","overview","MovieDetailsPage","movieId","useParams","fetchMovieById","axios","api_key","fetchTrendingMovies","response","id","fetchCast","fetchMovieReviews","fetchSearchMovie","query","params"],"sourceRoot":""}